{% extends "base.html" %}
{% block content %}
<section class="card">
    <h2>ä¸ªäººä¿¡æ¯</h2>
    <p><strong>æ˜µç§°ï¼š</strong>{{ user.nickname }}</p>
    <p><strong>ç”¨æˆ·åï¼š</strong>{{ user.username }}</p>
    <p><strong>é‚®ç®±ï¼š</strong>{{ user.email or 'æœªå¡«å†™' }}</p>
    <p><strong>æ³¨å†Œæ—¶é—´ï¼š</strong>{{ user.created_at }}</p>
</section>
<section class="post-list">
    <h2>æˆ‘å‘è¡¨çš„æ–‡ç« </h2>
    {% if posts %}
        {% for post in posts %}
        <article>
            <h3><a href="/posts/{{ post.id }}">{{ post.title }}</a></h3>
            <p class="meta">åˆ†ç±»ï¼š{{ post.tags or 'æœªåˆ†ç±»' }} Â· æ›´æ–°æ—¶é—´ï¼š{{ post.updated_at }}</p>
            <p>{{ post.body[:160] }}{% if post.body|length > 160 %}...{% endif %}</p>
            <p class="meta">ğŸ‘ {{ post.like_count }} Â· â­ {{ post.favorite_count }}</p>
        </article>
        {% endfor %}
    {% else %}
        <p>è¿˜æ²¡æœ‰å‘å¸ƒä»»ä½•æ–‡ç« ï¼Œå¯é€šè¿‡ API åˆ›å»ºã€‚</p>
    {% endif %}
</section>

<section class="post-list">
    <h2>æˆ‘ç‚¹èµè¿‡çš„æ–‡ç« </h2>
    {% if liked_posts %}
        {% for post in liked_posts %}
        <article>
            <h3><a href="/posts/{{ post.id }}">{{ post.title }}</a></h3>
            <p class="meta">ä½œè€…ï¼š{{ post.author_name }} Â· ç‚¹èµæ—¶é—´ï¼š{{ post.reacted_at }} Â· ğŸ‘ {{ post.like_count }} Â· â­ {{ post.favorite_count }}</p>
            <p>{{ post.body[:160] }}{% if post.body|length > 160 %}...{% endif %}</p>
        </article>
        {% endfor %}
    {% else %}
        <p>è¿˜æ²¡æœ‰ç‚¹èµä»»ä½•æ–‡ç« ã€‚</p>
    {% endif %}
</section>

<section class="post-list">
    <h2>æˆ‘æ”¶è—è¿‡çš„æ–‡ç« </h2>
    {% if favorite_posts %}
        {% for post in favorite_posts %}
        <article>
            <h3><a href="/posts/{{ post.id }}">{{ post.title }}</a></h3>
            <p class="meta">ä½œè€…ï¼š{{ post.author_name }} Â· æ”¶è—æ—¶é—´ï¼š{{ post.reacted_at }} Â· ğŸ‘ {{ post.like_count }} Â· â­ {{ post.favorite_count }}</p>
            <p>{{ post.body[:160] }}{% if post.body|length > 160 %}...{% endif %}</p>
        </article>
        {% endfor %}
    {% else %}
        <p>è¿˜æ²¡æœ‰æ”¶è—ä»»ä½•æ–‡ç« ã€‚</p>
    {% endif %}
</section>
{% endblock %}
